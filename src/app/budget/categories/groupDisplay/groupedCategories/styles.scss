@use './variables' as vars;

.grouped-categories-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr) vars.$category-context-width;
  margin: 0px 10px 10px 10px;
  padding-bottom: 100px;

  .header-row {
    display: grid;
    grid-template-columns: subgrid;
    grid-column: 1 / -1;
    background-color: vars.$background-light;
    position: sticky;
    top: vars.$nav-height;
  }
  
  .header {
    text-align: center;
    background-color: vars.$background-light;

    &.group-header {
      grid-column: 1 / 3;
      visibility: none;
    }

    &.category {
      grid-column: 3 / 6;
    }
  }

  * {
    align-self: center;
  }

  .group {
    display: grid;
    grid-template-columns: subgrid;
    grid-column: 1 / 14;
    border: 2px solid vars.$outline;
    border-radius: vars.$border-radius;
    margin: 1rem 0;
    min-height: 2rem;

    .name {
      grid-column: 1/3;
      align-self: start;
      justify-self: center;

      position: sticky;
      top: vars.$nav-height;

      max-width: 90%;
      padding: 4px 8px;
      margin: -1.5rem;
      
      text-align: center;
      font-size: 1.5rem;
      text-overflow: ellipsis;
      overflow: hidden;

      background: vars.$background-light;
      color: vars.$primary-dark;
      border-radius: vars.$border-radius;
    }

    .group-categories {
      display: grid;
      grid-template-columns: subgrid;
      grid-column: 3 / -1;
      align-self: start;
      gap: 1px;
      // The gap-plus-background-color combo creates the illusion of borders in the grid
      background-color: vars.$outline;
      border-left: 2px solid vars.$outline;

      .group-category {
        &:first-child {
          border-radius: 0 vars.$border-radius 0 0;
        }
        
        &:last-child {
          border-radius: 0 0 vars.$border-radius 0;
        }

        display: grid;
        grid-template-columns: subgrid;
        grid-column: 1 / -1;
        background-color: vars.$background-light;

        // border-radius: 0px vars.$border-radius 0px 0px;

        & > *:not(.delete-cat-button) {
          padding-left: 8px;
        }

        &.highlight {
          background-color: vars.$primary-light;
          color: white;
        }

        .category-name {
          grid-column: 1 / 4;
        }

        .category-edit-button {
          grid-column: -1;
          // justify-self: right;
        }
      }
    }
  }
}